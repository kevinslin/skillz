# Repository Guidelines

## Project Structure & Module Organization
- `src/cli.ts` bootstraps the Commander CLI and routes to command modules in `src/commands/`.
- `src/core/` holds the domain services: configuration, skill scanning, parsing, change detection, templating, and targets.
- `src/utils/` provides shared helpers for filesystem access, validation, hashing, and logging.
- `tests/` combines Jest integration suites (`tests/integration/`) with helper utilities (`tests/helpers/`) for temporary workspaces.
- `dist/` is generated by the TypeScript compiler; do not edit files there directly.

## Build, Test, and Development Commands
- `npm run build` compiles TypeScript to `dist/` and copies template assets.
- `npm run dev` starts the CLI in watch mode for rapid iteration.
- `npm test` performs a full build before running the Jest suite.
- `npm run lint` and `npm run format` run ESLint and Prettier respectively; execute them before opening a pull request.

## Coding Style & Naming Conventions
- TypeScript is the primary language; favor async/await over raw promise chains.
- Use two-space indentation, trailing commas in multi-line literals, and keep imports sorted logically (`node` first, internal modules second).
- Directories and files are kebab-case (`skill-scanner.ts`), exported symbols are camelCase or PascalCase for classes/types.
- Run `npm run format` to enforce Prettier’s rules; ESLint will flag unused imports and unsafe any usage.

## Testing Guidelines
- Jest drives testing with the `ts-jest` ESM preset; place tests alongside domain areas using `*.test.ts`.
- Integration suites rely on temporary workspaces—clean them up with the provided helpers.
- Add tests for new features or bug fixes and ensure `npm test` passes locally before pushing.
- Document unusual test setup in `TESTING.md` for future maintainers.

## Commit & Pull Request Guidelines
- Write commits in the imperative mood (`fix ignore glob handling`) and keep them scoped to one logical change.
- Reference related issues in commit bodies or PR descriptions.
- Include brief PR summaries, highlight testing evidence, and call out any follow-up tasks in `NEXT_STEPS.md` when relevant.
- Request reviews for significant changes and respond to feedback promptly with follow-up commits.
